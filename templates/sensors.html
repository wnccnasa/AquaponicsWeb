{% extends "base.html" %}

{% block title %}Sensors - WNCC Aquaponics{% endblock %}

{% block content %}
<div class="container">
    <h1>üìä Sensor Data Dashboard</h1>
    <p class="lead">Real-time monitoring of the WNCC STEM Club Aquaponics System</p>

    <!-- Water Temperature Card -->
    <div class="card mb-4">
        <div class="card-header">
            <h3 class="mb-0">üå°Ô∏è Water Temperature in the Fish Tank</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <iframe class="chart-iframe" src="https://thingspeak.com/channels/1539695/widgets/1107921"></iframe>
                </div>
                <div class="col-md-6 mb-3">
                    <iframe class="chart-iframe"
                        src="https://thingspeak.com/channels/1539695/charts/4?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&title=Water+Temp+%C2%B0F&type=line"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- pH Levels Card -->
    <div class="card mb-4">
        <div class="card-header">
            <h3 class="mb-0">‚öóÔ∏è pH Levels in the Fish Tank</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <iframe class="chart-iframe" src="https://thingspeak.com/channels/1539695/widgets/1109733"></iframe>
                </div>

                <div class="col-md-6 mb-3">
                    <iframe class="chart-iframe"
                        src="https://thingspeak.com/channels/1539695/charts/6?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&title=pH&type=line"></iframe>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <p class="alert alert-info">
                        <strong>Note:</strong> pH levels are critical for fish health and nutrient absorption by plants.
                        Ideal pH for aquaponics systems is between 7.2-7.4.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Water Level Card -->
    <div class="card mb-4">
        <div class="card-header">
            <h3 class="mb-0">üíß Fish Tank Water Level</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <iframe class="chart-iframe"
                        src="https://thingspeak.com/channels/1539695/widgets/1111906"></iframe>>

                    <br>1. The fishes are happy with the water level.
                    <br>0. The water level is too low. The fishes are not happy.
                </div>
                <div class="col-md-6 mb-3">
                    <iframe class="chart-iframe"
                        src="https://thingspeak.com/channels/1539695/charts/5?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&title=Water+Level&type=line"></iframe>
                    <br>Water level is monitored using a capacitive sensor attached to the side of the fish tank.
                </div>
                
            </div>
        </div>
    </div>

    <!-- Ambient Conditions Card -->
    <div class="card mb-4">
        <div class="card-header">
            <h3 class="mb-0">üåø Ambient Environmental Conditions</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-3">
                    <iframe class="chart-iframe" src="https://thingspeak.com/channels/1539695/widgets/1106625"></iframe>
                </div>
                <div class="col-lg-4 col-md-6 mb-3">
                    <iframe class="chart-iframe" src="https://thingspeak.com/channels/1539695/widgets/1106626"></iframe>
                </div>
                <div class="col-lg-4 col-md-6 mb-3">
                    <iframe class="chart-iframe" src="https://thingspeak.com/channels/1539695/widgets/1106627"></iframe>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <iframe class="chart-iframe"
                        src="https://thingspeak.com/channels/1539695/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&title=Temperature+%C2%B0F&type=line"></iframe>
                </div>
                <div class="col-lg-6 mb-3">
                    <iframe class="chart-iframe"
                        src="https://thingspeak.com/channels/1539695/charts/2?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&title=%25+Humidity&type=line"></iframe>
                </div>
            </div>
            <div class="row">
                <div class="col-12 mb-3">
                    <iframe class="chart-iframe"
                        src="https://thingspeak.com/channels/1539695/charts/3?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&title=Barometric+Pressure+inHg&type=line"></iframe>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="text-center">
    <a href="{{ url_for('index') }}" class="btn btn-primary">View Live Stream</a>
</div>

{% endblock %}